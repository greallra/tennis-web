{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbookprolate2012/Desktop/Full-Stack-SSR/tennis/profiles/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macbookprolate2012/Desktop/Full-Stack-SSR/tennis/profiles/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/macbookprolate2012/Desktop/Full-Stack-SSR/tennis/profiles/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Grid}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import playerRankings from'../fixtures/mixProfiles';import ProfileCard from'./ProfileCard';var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}},textfield:{background:'#ffff'}};});// const filter = new Promise((res, rej)=>{\n// })\nexport default function Profiles(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),players=_useState4[0],setPlayers=_useState4[1];var classes=useStyles();var rawPlayers=playerRankings.slice(0,10);useEffect(function(){function filterPlayers(){return _filterPlayers.apply(this,arguments);}function _filterPlayers(){_filterPlayers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var filteredPlayers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return playerRankings.filter(function(obj){if(obj.player.name.toLowerCase().match(searchText.toLowerCase())){return true;}else{return false;}});case 2:filteredPlayers=_context.sent;if(!searchText){setPlayers(rawPlayers);}else{setPlayers(filteredPlayers.slice(0,10));}case 4:case\"end\":return _context.stop();}}},_callee);}));return _filterPlayers.apply(this,arguments);}filterPlayers();console.log(\"should continue\");},[searchText]);function handleSearchText(e){console.log(\"handle search text\");setSearchText(e.target.value);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"enter profile name\",variant:\"outlined\",onChange:handleSearchText,className:classes.textfield})),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(\"h4\",null,\"Results: \",players.length))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},players.map(function(o){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:4},/*#__PURE__*/React.createElement(ProfileCard,Object.assign({},o.player,{rank:o.rank,points:o.points,key:o.player.id})));})));}","map":{"version":3,"sources":["/Users/macbookprolate2012/Desktop/Full-Stack-SSR/tennis/profiles/src/components/Profiles.js"],"names":["React","useEffect","useState","Grid","makeStyles","TextField","playerRankings","ProfileCard","useStyles","theme","root","margin","spacing","width","textfield","background","Profiles","searchText","setSearchText","players","setPlayers","classes","rawPlayers","slice","filterPlayers","filter","obj","player","name","toLowerCase","match","filteredPlayers","console","log","handleSearchText","e","target","value","length","map","o","rank","points","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport playerRankings from '../fixtures/mixProfiles'\n\nimport ProfileCard from './ProfileCard'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n  textfield: {\n    background: '#ffff'\n  }\n}));\n\n// const filter = new Promise((res, rej)=>{\n\n// })\n\nexport default function Profiles() {\n    const [searchText, setSearchText] = useState('')\n    const [players, setPlayers] = useState([])\n    const classes = useStyles();\n    const rawPlayers = playerRankings.slice(0,10);\n\n  \n\n    useEffect(()=>{\n      async function filterPlayers(){\n        const filteredPlayers = await playerRankings.filter((obj)=>{\n          if(obj.player.name.toLowerCase().match(searchText.toLowerCase())){\n              return true;\n          }else {\n              return false;\n          }\n        })\n        if(!searchText) {\n          setPlayers(rawPlayers);\n        }else {\n          setPlayers(filteredPlayers.slice(0,10));\n        }\n      }\n      filterPlayers();\n      console.log(\"should continue\");\n    }, [searchText])\n\n    function handleSearchText(e){\n      console.log(\"handle search text\");\n      setSearchText(e.target.value)\n    }\n  \n\n  return (\n    <>\n      <Grid container justify=\"center\" spacing={2}>\n        <Grid item >\n          <TextField id=\"outlined-basic\" label=\"enter profile name\" variant=\"outlined\" onChange={handleSearchText} className={classes.textfield}/>\n        </Grid>\n        <Grid item>\n          <h4>Results: {players.length}</h4>\n        </Grid>\n      </Grid>\n      <Grid container spacing={2}>\n      {players.map((o)=>{\n          return <Grid item xs={12} sm={4}><ProfileCard {...o.player} rank={o.rank} points={o.points} key={o.player.id}/></Grid>\n      })}\n      </Grid>\n\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}